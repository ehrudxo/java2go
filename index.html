<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Go를 프로젝트에 적용한다는 것은</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/league.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section><h2>Go를 <p/> 프로젝트에 <p/>적용한다는 것은</h2></section>
				<section data-markdown>
					<textarea data-template>
						<h3> 오늘 할 이야기 </h3>
						* 안녕하세요. ACT 입니다.
						* 오늘의 프로젝트
						* Go를 하기 위해서 해야하는 설득들
						* Stack 구성
						* DevOps
						* Dev 관점에서 본 Java vs Go
						* PM thing
						* Q & A
					</textarea>
				</section>
				<section>
					<section>
						<h3>안녕하세요 ACT 입니다.</h3>
						<p/>
						(Agile Core Team)
					</section>
					<section>
						<img src="./img/act01.jpg">
					</section>
					<section>
						ACT 핵심 프랙티스
						<img src="./img/act02.jpg">
					</section>
					<section>
						ACT 핵심 프랙티스
						<img src="./img/act03.jpg">
					</section>
					<section>
						ACT 일하는 방식
						<img src="./img/act04.jpg">
					</section>
					<section data-markdown>
						<textarea data-template>
						#### 대내외 기사 및 벤치 마킹사례
						* ‘삼성SDS는 실리콘밸리 DNA 이식중 - 애자일문화 전파팀 구성 조직문화 대대적 개편 나서’ (서울경제신문, 2016-07-20, http://www.sedaily.com/NewsView/1KYXUMIPCH )
						* ‘실리콘밸리 문화, 삼성속으로 들어오다 - 애자일 코어팀의 새로인 시도’
							(미디어삼성, 2016-05-16, http://www.samsung.net/mediasamsung/detailView.do?seqId=59067
						* 계열사 임원 및 실무자 17회 ACT 벤치마킹 방문
							(전자 무선사업부, S/W센터, 디자인경영센터, DMC 연구소, 삼성전기, 삼성생명 등)
						* 대외사 ACT 벤치마킹
							(LG전자, 두산중공업, SK C&C, GSSHOP, 쿠팡 등)
						</textarea>
					</section>
				</section>
				<section>
					<section>
						<h3>오늘의 프로젝트</h3>
					</section>
					<section>
						(AS-IS)
						<p/>
						Spring3 + Angular2 + mariadb
					</section>
					<section>
						(TO-BE)
						<p/>
						Go + React + mariadb
					</section>
					<section>
						<h3>오늘의 팀원</h3>
						<img src="./img/member.jpg"/>
					</section>
				</section>
				<section>
					<section data-markdown>
						<textarea data-template>
						<h3>Go를 구성하기 위해서 해야하는 설득들</h3>
						* 내가 먼저 납득되기
						* 남을 설득하기
						* 팀원들과 함께 가기
						</textarea>
					</section>
					<section>
						<strong>1. 나는 어떻게 납득될 것인가.</strong>
					</section>
					<section data-markdown>
						<textarea data-template>
						#### PM 으로써 걱정들
						* 적당한 아키텍처인가
						* 어떤 문제(Pain Point)를 해결할 것인가
						* 이것은 그 솔루션인가
						* 개발 속도
						* 속도와 최적화
						* 품질
						* 팀 케미는 어떻게 될 것인가
						</textarea>
					</section>
					<section>
						Node.js, Go 기반 지도 API 발표.
						<img src="./img/osgeo.jpg"/>
					</section>
					<section>
						생각보다 어렵지 않았다
						<p/>
						성능은 더 좋았다
					</section>
					<section>
						고민만 했다간 30년 걸려도 못하겠더라.(출처 : the300)
						<p/>
						<img src="./img/yoo.jpg"/>
					</section>
					<section>
						팀의 속도에 어울리는 좋은 인력들(프로필 사진)을 보고 확신

					</section>
					<section>
						<strong>2. 남을 어떻게 설득할 것인가</strong>
					</section>
					<section>
						성능, 성능, 성능 (출처 : 나무위키)<p/>
						<img src="./img/nomore.jpg"/>
					</section>
					<section>
						소스코드 재작성은 악이 아니다.<br/>
						http://docs.likejazz.com/software-engineering-at-google/
						<img src="./img/rewrite01.jpg"/>
						<img src="./img/rewrite02.jpg"/>
					</section>
					<section>
						마법의 단어
					</section>
					<section>
						마이크로 서비스, SAAS, RESTful...<p/>
						Legacy - 해치지 않아요.
					</section>
					<section>
						strangler pattern<p/>
						<img src="./img/strangler.jpg"/>
					</section>
					<section>
						<strong>3. 팀원들과 확신하기</strong>
					</section>
					<section data-markdown>
						<textarea data-template>
						#### 나름 오픈소스 개발방법 적용
						* merge request( pull request )
							* 초반 소스 코드는 직접 merge
							* 이제는 코드 베이스가 커져서 조금 버거움
							* 팀원들이 머리를 던지며 희열을 느낀다면
						* 코드 리뷰
						* DevOps
						#### 폴리글랏( Thanks to 나프다 )
						* 무기가 하나 정도는 더 있어야지
						</textarea>
					</section>
					<section>
						Mob Programming<p/>

					</section>
					<section>
						한 사람 정도는 미리 해본 사람이 있는게 심정적으로는 도움이 되더라<p/>
						성능의 문제는 팀원들을 설득하는 데에는 크게 작용하지 않더라 - 좋겠죠 뭐.
					</section>
					<section>
						정말로 <img src="./img/run_go.png"/>
					</section>
				</section>
				<section>
					<section><h3>stack</h3></section>
					<section>
						<h4>web framework</h4>
						gorilla vs revel
					</section>
					<section>
						<h4>Test Suite</h4>
						unit test & Mock Test - GoMock, MockGen
					</section>
					<section>
						<h4>ORM</h4>
						<img src="./img/gorm.png"/>
					</section>
					<section>
						<h4>IDE - Gogland</h4>
						<img src="./img/gogland.png"  style="filter: blur(1px);"/>
					</section>
					<section>
						<h4>Glide - Package Manager</h4>
						<img src="./img/glide.png"/>
					</section>
				</section>
				<section>
					<section><h3>DevOps</h3></section>
					<section>
						At a glance
						<p/>
						<img src="./img/devops.png"/>
					</section>
					<section>
						<pre><code>
Service start
nohup $(cd /home/ubuntu; ./golangZ) & echo $! > $PID_PATH_NAME
#->빌드로 만들어진 파일을 실행시키고 종료를 위해 PID를 기록해둔다.

 Service stop
sudo kill -9 $PID;
#-> PID를 가지고 프로세스를 kill시킨다.
  				</code></pre>
					</section>
				</section>
				<!--dev start-->
				<section id="dev">
					<section><h3>Dev 관점에서 본 Java vs Go</h3></section>
					<section>
						<h3>사실 우리의 첫 선택은..</h3>
						React + SpringBoot
					</section>
					<section  data-markdown>
						<textarea data-template>
						### 당연히 Java 를 선택했던 이유
						* 익숙 함
							* 팀원 모두 메인 개발 언어
							* 항상 그래왔었기 때문에..

						* Ecosystem
							* Spring Boot, Spring Cloud, Spring Data JPA..

						* 우리를 제외한 모든 팀이 Java

						* 사실 Java 밖에 안해봄.....
						</textarea>
					</section>
					<section  data-markdown>
						<textarea data-template>
						### 그런데 왜 굳이 Go로 Go??
						* keen이 하자고 해서

						* 이름이 있어 보여서

						* 딱히 안할 이유도 없어서

						* java 말고 다른 것도 해보고 싶어서

						* 다른 팀에서 서비스를 jar 파일로 제공한다고 해서
						</textarea>
					</section>

					<section  data-markdown>
						<textarea data-template>
						### 새로운 언어로 개발한다는 의미
						* 문법

						* Coding Convention

						* 개발 패턴 (OOP, FP, Design Pattern..)

						* Framework

						등등.. 익숙함을 버려야 함
						</textarea>
					</section>

					<section><h2>Go 단순함</h2></section>

					<section data-markdown>
						<textarea data-template>
							### 초 간단 GO 문법 - 1
							```go
							// 변수
							var a int = 10

							// 상수
							const C int = 10

							// 배열
							var a1 = [3]int{1, 2, 3}
							```
						</textarea>
					</section>
					<section data-markdown>
						<textarea data-template>
							### 초 간단 GO 문법 - 2
							```go
							// 조건문
							if a == C {
							} else {
							}
							switch cond {
							case 1:
							default:
							}

							// 반복문
							for i := 1; i <= 100; i++ {
							}
							for _, name := range array {
							}
							```
						</textarea>
					</section>
					<section data-markdown>
						<textarea data-template>
							### 초 간단 GO 문법 - 3
							```go
							// 함수
							func say(msg string) (int, int) {
									...
									return a, b
							}
							// 구조체
							type shape struct {
									Width  int
									height int
							}
							c := shape{100, 200}
							// 메서드
							func (s shape) area() int {
								return s.Width * s.height
							}
							```
						</textarea>
					</section>
					<section data-markdown>
						<textarea data-template>
							### 접근제한
							```java
							// JAVA
							class Shape {
							  private int width;
							  public  int height;
							}
							```
							```go
							// GO
							type Shape struct {
							  Width  int 	// public
							  height int 	// private
							}
							```
						</textarea>
					</section>
					<section>
						<h3>Java Keyword : 50</h3>
						<img src="./img/java_keywords.png"/>
					</section>
					<section>
						<h3>Go Keyword : 25</h3>
						<img src="./img/go_keywords.png"/>
					</section>

					<section>
						<img src="./img/coding_convention.jpg"/>
					</section>
					<section  data-markdown>
						<textarea data-template>
						### gofmt
						automatically formats Go source code.
						* easier to write
						* easier to read
						* easier to maintain
						* uncontroversial

						https://blog.golang.org/go-fmt-your-code
						</textarea>
					</section>
					<section  data-markdown>
						<textarea data-template>
							#### before
							```go
							func main() {
								sum := 0
								for i:=0; i<10; i++ { sum += i }
								fmt.Println(sum)
							}
							```
							#### format
							```bash
							$ go fmt main.go
							```
							#### after
							```go
							func main() {
								sum := 0
								for i := 0; i < 10; i++ {
									sum += i
								}
								fmt.Println(sum)
							}
							```
						</textarea>
					</section>

					<section data-markdown>
						<textarea data-template>
						### once write, run anywhere
						```bash
						$ GOOS=windows GOARCH=amd64 go build
						```
						https://golang.org/doc/install/source#environment
						</textarea>
					</section>

					<section data-markdown>
						<textarea data-template>
						### $GOPATH
						- Avoid import '../../../../../../../../'

						- $GOPATH/src 를 root로 보고 경로 지정

						```go
						import (
							"github.com/gorilla/mux"            // 외부 라이브러리
							"github.com/kihoonkim/gogo/utils"   // 내 패키지
							"net/http"                          // 표준 라이브러리
						)
						```
						</textarea>
					</section>
					<section data-markdown>
						<textarea data-template>
							### JAVA Type Inheritance
							```java
							public interface Duck {
							  void Quack();
							}
							public class DonaldDuck implements Duck {
							  @override
							  public void Quack() {
							    System.out.Println("I'm Donald Duck");
							  }
							}

							public static void main(String[] agrs) {
							  Duck duck = new DonaldDuck();
							}
							```
						</textarea>
					</section>
					<section data-markdown>
						<textarea data-template>
							### go type inheritance
							```go
							type Duck interface {
								Quack()
							}

							type DonaldDuck struct {}
							func (d DonaldDuck) Quack() {
								fmt.Println("Hello I'm Docal Duck. Quack Quack")
							}
							func (d DonaldDuck) Walk()  {
								fmt.Println("I can walk")
							}

							func main() {
								var donald Duck = new(DonaldDuck)
								donald.Quack()
							}
							```
						</textarea>
					</section>
					<section>
						<h3>Duck Typing</h3>
						<p>
						만약 어떤 새가 오리처럼 걷고,	<br>
						헤엄치고, 꽥꽥거리는 소리를 낸다면<br>
						나는 그 새를 오리라고 부를 것이다.<br>
						</p>
						<img src="./img/duck_typing.jpg" height="300"/>
					</section>
					<section data-markdown>
						<textarea data-template>
							### 동시성 thread vs goroutine
							```java
							// JAVA
							new Thread(() -> System.out.println("Hello World!")).run();
							```
							```go
							// GO
							go fmt.Println("Hello World!")
							```
						</textarea>
					</section>
					<section data-markdown>
						<textarea data-template>
							### Test
							```go
							package calc
							func Sum(a int, b int) int {
								return a + b
							}
							```
							```go
							package calc

							import "testing"			// test 표준 라이브러리
							func TestSum(t *testing.T)  {
								result := Sum(1, 2)
								if result != 3 {
									t.Errorf("expected:%s actual:%s", 3, result)
								}
							}
							```
						</textarea>
					</section>
					<section data-markdown>
						<textarea data-template>
							### Test 실행 및 커버리지
							```bash
							$  go test -v ./calc
							=== RUN   TestSum
							--- PASS: TestSum (0.00s)
							PASS
							ok      github.com/kihoonkim/gogo/calc  0.033s

							$  go test -v -cover ./calc
							=== RUN   TestSum
							--- PASS: TestSum (0.00s)
							PASS
							coverage: 100.0% of statements
							```
						</textarea>
					</section>
					<section id="source-code">
						<h3>간단한 Rest API 개발</h3>
					</section>
					<section>
						<div data-markdown style="float: left; width: 100%; height: 35%; font-size: 25px">
							#### Java Rest API
							```java
							@RestController
							public class HelloController {
							  @Autowired
							  private HelloService service;

							  @GetMapping(value = "/hello")
							  public String sayHello() {
							     return "Hello" + service.getName();
							  }

							  @PostMapping(value = "/hello/{name}")
							  public Hello hello(@PathVariable(value = "name") String name) {
							    return service.saveHello(name);
							  }
							}
							```
						</div>
						<div data-markdown style="float: right; width: 100%; height: 65%; font-size: 25px;">
							#### Go Rest API
							```go
							import (
								"github.com/gorilla/mux"
								"encoding/json"
								"net/http"
							)
							func InitRouting(r *mux.Router) {
								r.HandleFunc("/entities", GetHandler).Methods("GET")
							}
							type HelloHandler struct {
								service Service
							}
							func (h *HelloHandler) GetHandler(w http.ResponseWriter, r *http.Request) {
								name := h.service.GetName()
								w.Header().Set("Content-Type", "application/json")
								j, _ := json.Marshal("Hello " + name)
								w.Write(j)
							}
							```
						</div>
					</section>
					<section>
						<div data-markdown style="float: left; width: 100%; height: 35%; font-size: 25px">
							#### Java Rest API Test

							```java
							@RunWith(SpringRunner.class)
							@WebMvcTest(HelloController.class)
							public class HelloRestControllerTest {

							  @Autowired MockMvc mvc;
							  @MockBean HelloService serviceMock;

							  @Test
							  public void whenCallHelloApi_thenReturnHelloMessage() throws Exception {
							    given(serviceMock.getName()).willReturn("Kihoon");

								mvc.perform(get("/hello"))
									.andExpect(status().isOk())
									.andExpect(content().string("Hello Kihoon"));
							  }
							}
							```
						</div>
						<div data-markdown style="float: right; width: 100%; height: 65%; font-size: 25px;">
							#### Go Rest API Test

							```go
							func TestHelloHandler_GetHandler(t *testing.T) {
								ctrl := gomock.NewController(t)
								mockService := NewMockService(ctrl)
								mockService.EXPECT().GetName().Return("Kihoon")

								handler := HelloHandler{mockService}

								req, _ := http.NewRequest("GET", "/hello", nil)

								recorder := executeRouter(handler, req)

								assert.Equal(t, "Hello Kihoon", recorder.Body.String())
							}
							```
						</div>
					</section>
					<section>
						<h3>프로그래밍 언어 순위</h3>
						<img src="./img/top_language.png" height="600"/>
						https://www.tiobe.com/tiobe-index/
					</section>
					<section  data-markdown>
						<textarea data-template>
						### Go로 개발된 오픈소스들
						* Docker
						* Kubernetes
						* etcd
						* InfluxDB
						* Beats (Elasticsearch)
						....
						</textarea>
					</section>
					<section><h3>Dev end..</h3></section>
				</section>
				<!--dev end-->
				<section>
					<section><h3>PM thing</h3></section>
					<section  data-markdown>
						<textarea data-template>
						#### 눈에 보이지 않는 것들
						* 모두가 고만 고만해서
							* PM의 주도권
							* 개발자들의 보이지 않는 경쟁
							* 굉장히 좋은 에너지를 끝까지 가져갈 수 있음
							* 지속적으로 모두가 공부하는 분위기가 주는 긴장감
						* 새로운 것을 할 때의 기대감
						* 생각보다 큰 허들이 없음
							* 성숙하진 않으나 없는 것 빼고는 다 있는 개발 커뮤니티
						</textarea>
					</section>
					<section>
						눈에 보이는 것들
					</section>
					<section>
						Lead Time ( ACT avg = 2d )
						<img src="./img/lead_time.png"/>
					</section>
					<section>
						Velocity ( 등짝 말고 추세를 보자 )
						<img src="./img/cumulative.png"/>
					</section>
					<section>
						Test Coverage ( ACT avg = 88% )
						<img src="./img/test_coverage.png"/>
					</section>
					<section>
						Code Coverage
						<img src="./img/code_coverage.png"/>
					</section>
					<section>
						사용자 스토리가 상세해 짐.
						- 모두가 이해 못하는 상황을 만들 수 없으니까.
						<img src="./img/userstory.png" style="filter: blur(2px);"/>
					</section>
				</section>
				<section>
					<section><h3>마무리</h3></section>
					<section>
						대체재 vs 보완재
						<p/>
						<img src="./img/alchol.jpg"/>
					</section>
					<section>
						팀이 결정할 것.
						<img src="./img/asyouwish.jpg"/>
					</section>
					<section><h3>Q & A</h3></section>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
			Reveal.configure({ slideNumber: true });
		</script>
	</body>
</html>
